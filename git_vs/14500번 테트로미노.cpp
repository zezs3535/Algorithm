#include <bits/stdc++.h>

using namespace std;

int n, m;
int arr[501][501];
int answer = 0;

int shapes[19][4][4] = {
	{{1,1,1,1},{0,0,0,0},{0,0,0,0},{0,0,0,0}}, 
	{{1,0,0,0},{1,0,0,0},{1,0,0,0},{1,0,0,0}}, 
	{{1,1,0,0},{1,1,0,0},{0,0,0,0},{0,0,0,0}}, 
	{{1,0,0,0},{1,0,0,0},{1,1,0,0},{0,0,0,0}},
	{{1,1,1,0},{1,0,0,0},{0,0,0,0},{0,0,0,0}}, 
	{{1,1,0,0},{0,1,0,0},{0,1,0,0},{0,0,0,0}}, 
	{{0,0,1,0},{1,1,1,0,},{0,0,0,0},{0,0,0,0}}, 
	{{1,0,0,0},{1,1,0,0},{0,1,0,0},{0,0,0,0}},
	{{0,1,1,0},{1,1,0,0},{0,0,0,0},{0,0,0,0}},
	{{1,1,1,0},{0,1,0,0},{0,0,0,0},{0,0,0,0}}, 
	{{0,1,0,0},{1,1,0,0},{0,1,0,0},{0,0,0,0}}, 
	{{0,1,0,0},{1,1,1,0},{0,0,0,0},{0,0,0,0}}, 
	{{1,0,0,0},{1,1,0,0},{1,0,0,0},{0,0,0,0}},
	{{0,1,0,0},{0,1,0,0},{1,1,0,0},{0,0,0,0}},
	{{1,0,0,0},{1,1,1,0},{0,0,0,0},{0,0,0,0}},
	{{1,1,0,0},{1,0,0,0},{1,0,0,0},{0,0,0,0}},
	{{1,1,1,0},{0,0,1,0},{0,0,0,0},{0,0,0,0}},
	{{0,1,0,0},{1,1,0,0},{1,0,0,0},{0,0,0,0}},
	{{1,1,0,0},{0,1,1,0},{0,0,0,0},{0,0,0,0}}
};

void search(int y, int x) {
	for (int idx = 0; idx < 19; idx++) {
		int ret = 0;
		for (int i = 0; i < 4; i++) {
			for (int j = 0; j < 4; j++) {
				if (shapes[idx][i][j] == 1 && i+y<n && j+x<m) {
					ret += arr[i + y][j + x];
				}
			}
		}
		answer = max(answer, ret);
	}
}

int main() {
	ios::sync_with_stdio(false);
	cin.tie(0);
	cout.tie(0);


	cin >> n >> m;
	for (int i = 0; i < n; i++) {
		for (int j = 0; j < m; j++) {
			cin >> arr[i][j];
		}
	}

	for (int i = 0; i < n; i++) {
		for (int j = 0; j < m; j++) {
			search(i, j);
		}
	}
	cout << answer;
	return 0;
}